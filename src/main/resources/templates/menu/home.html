<!DOCTYPE html>
<html lang="en" layout:decorate="~{layout/layout_form}">
<th:blcok layout:fragment="content">

  <head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="/css/menu/home.css" />
    <link rel="stylesheet" href="/css/menu/grid.css" />

  </head>

  <body>

    <div class="container" id="home">
      <div class="home notice">
        <table class="table table-borderless" style="margin:2%">
          <thead>
            <tr>
              <th colspan="6">공지사항</th>
              <th style="text-align:right;"><a href="/notice/list"><svg xmlns="http://www.w3.org/2000/svg" width="20"
                    height="20" fill="currentColor" class="bi bi-plus-square" viewBox="0 0 16 16" style="color:black;">
                    <path
                      d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z" />
                    <path
                      d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
                  </svg></a></th>
            </tr>
          </thead>
          <tbody>
            <tr v-for="(nlist,i) in notice" key="nlist">
              <td colspan="6" class="noticetd"><a>{{nlist.title}}</a></td>
              <td style="text-align:right" class="noticetd">{{nlist.regdate}}</td>
            </tr>

          </tbody>

        </table>

      </div>
      <div class="home find">item2</div>
      <div class="home hrms">
        <ul class="nav nav-tabs nav-fill" id="myTab" role="tablist">
          <li class="nav-item" role="presentation">
            <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home-tab-pane"
              type="button" role="tab" aria-controls="home-tab-pane" aria-selected="true">결제함</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-tab-pane"
              type="button" role="tab" aria-controls="profile-tab-pane" aria-selected="false">진행함</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact-tab-pane"
              type="button" role="tab" aria-controls="contact-tab-pane" aria-selected="false">완료함</button>
          </li>
        </ul>

        <div class="tab-content" id="myTabContent">
          <div class="tab-pane fade show active" id="home-tab-pane" role="tabpanel" aria-labelledby="home-tab" tabindex="0">
            <div class="col-card">
                <div class="card mb-4">
                  <div class="card-header">Dark Card</div>
                  <div class="card-body"><p class="card-text">Here is some example text within the card body.</p></div>
                  <div class="card-footer">Card Footer</div>
                </div>
                <div class="card mb-4">
                  <div class="card-header">Dark Card</div>
                  <div class="card-body"><p class="card-text">Here is some example text within the card body.</p></div>
                  <div class="card-footer">Card Footer</div>
                </div>
                <div class="card mb-4">
                  <div class="card-header">Dark Card</div>
                  <div class="card-body"><p class="card-text">Here is some example text within the card body.</p></div>
                  <div class="card-footer">Card Footer</div>
                </div>
                <div class="card mb-4">
                  <div class="card-header">Dark Card</div>
                  <div class="card-body"><p class="card-text">Here is some example text within the card body.</p></div>
                  <div class="card-footer">Card Footer</div>
                </div>
              </div>
          </div>
          <div class="tab-pane fade" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">
            <div class="col-card">
              <div class="card mb-4" v-for="list in receive" key="list">
                <div class="card_result" v-if="list.amt==0">
                  <div class="card-header">휴가</div>
                  <div class="card-body">
                    <p class="card-text">
                    휴가기간:{{list.startdate}}~{{list.enddate}}
                    </p>
                  </div>
                  <div class="card-footer">결제 신청일:{{list.regdate}}</div>
                </div>
                <div class="card_result" v-else>
                  <div class="card-header">지출 결의</div>
                  <div class="card-body">
                    <p class="card-text">
                    금액:{{list.amt}}원
                    </p>
                  </div>
                  <div class="card-footer">결제 신청일:{{list.regdate}}</div>
                </div>
              </div>
            </div>
          </div>
          <div class="tab-pane fade" id="contact-tab-pane" role="tabpanel" aria-labelledby="contact-tab" tabindex="0">
            <div class="col-card">
              <div :class="[list.yn==='n'?'reject mb-4':'ok mb-4']" v-for="list in done" key="list">
                <div class="card_result" v-if="list.amt==0">
                  <div class="card-header">휴가</div>
                  <div class="card-body">
                    <p class="card-text">
                    휴가기간:{{list.startdate}}~{{list.enddate}}
                    </p>
                  </div>
                  <div class="card-footer">결제 신청일:{{list.regdate}}</div>
                </div>
                <div class="card_result" v-else>
                  <div class="card-header">지출 결의</div>
                  <div class="card-body">
                    <p class="card-text">
                    금액:{{list.amt}}원
                    </p>
                  </div>
                  <div class="card-footer">결제 신청일:{{list.regdate}}</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      const Home = {
        data() {
          return {
            notice: [],
            done: [],
            receive: []
          }
        },

        methods: {
          getNoticelist() {
            axios.post("http://localhost:8888/api/home/notice")
              .then((response) => {
                this.notice = response.data;
              })
              .catch(error => console.error(error))
          },

          getHrmsSignlist() {
            axios.post("http://localhost:8888/api/home/hrms")
              .then((response) => {
                this.receive = response.data[0];
                this.done = response.data[1];
              })
              .catch(error => console.error(error))
          }

        },

        mounted() {
          this.getNoticelist();
          this.getHrmsSignlist();
        },

      }

      Vue.createApp(Home).mount('#home')

    </script>

  </body>
</th:blcok>

</html>