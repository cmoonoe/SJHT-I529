<!DOCTYPE html>
<html lang="en" layout:decorate="~{layout/layout_form}" xmlns:layout="http://www.w3.org/1999/xhtml" xmlns:th=""
      xmlns:v-on="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8">
</head>
<th:blcok layout:fragment="content">
    <body>
    <div class="container" id="board">
        <table class="table table-striped table-hover">
            <thead>
                <th>번호</th>
                <th>제목</th>
                <th>작성일</th>
                <th>조회수</th>
            </thead>

            <tbody>
            <tr v-for="(boardlist, i) in list" key="boardlist.bno">
                <td>
                    {{boardlist.bno}}
                </td>
                <td>
                    <a :href="'/board/detail.do?bno=' + boardlist.bno">{{ boardlist.title }}</a>
                </td>
                <td>
                    {{boardlist.createtime}}
                </td>
                <td>
                    {{boardlist.boardcount}}
                </td>
            </tr>

            </tbody>
        </table>
        <div class="text-right">
            <a href="./board/insert.html" class="btn btn-primary text-right">글 작성</a>
    </div>

    <script>
    const boardlist = {
        data() {
            return {
                list: []
            }
        },

        methods: {

            getBoard(){
                axios.post("http://localhost:8888/board/list.do"
                ).then((response) => {
                    this.list = response.data;
                }).catch(error => console.error(error))
            }
        },
        created(){
            this.getBoard();
        }
    }
Vue.createApp(boardlist).mount("#board")


    </script>
    </body>
</th:blcok>
</html>

